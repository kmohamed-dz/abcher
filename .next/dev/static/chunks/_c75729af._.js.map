{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/mohamed/abcher/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nfunction parseDate(date: string | Date) {\n  return date instanceof Date ? date : new Date(date);\n}\n\nexport function formatDate(date: string | Date) {\n  const parsed = parseDate(date);\n\n  if (Number.isNaN(parsed.getTime())) {\n    return \"-\";\n  }\n\n  return new Intl.DateTimeFormat(\"ar-DZ\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  }).format(parsed);\n}\n\nexport function formatDateTime(date: string | Date) {\n  const parsed = parseDate(date);\n\n  if (Number.isNaN(parsed.getTime())) {\n    return \"-\";\n  }\n\n  return new Intl.DateTimeFormat(\"ar-DZ\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  }).format(parsed);\n}\n\nexport const WILAYAS = [\n  \"أدرار\",\n  \"الشلف\",\n  \"الأغواط\",\n  \"أم البواقي\",\n  \"باتنة\",\n  \"بجاية\",\n  \"بسكرة\",\n  \"بشار\",\n  \"البليدة\",\n  \"البويرة\",\n  \"تمنراست\",\n  \"تبسة\",\n  \"تلمسان\",\n  \"تيارت\",\n  \"تيزي وزو\",\n  \"الجزائر\",\n  \"الجلفة\",\n  \"جيجل\",\n  \"سطيف\",\n  \"سعيدة\",\n  \"سكيكدة\",\n  \"سيدي بلعباس\",\n  \"عنابة\",\n  \"قالمة\",\n  \"قسنطينة\",\n  \"المدية\",\n  \"مستغانم\",\n  \"المسيلة\",\n  \"معسكر\",\n  \"ورقلة\",\n  \"وهران\",\n  \"البيض\",\n  \"إليزي\",\n  \"برج بوعريريج\",\n  \"بومرداس\",\n  \"الطارف\",\n  \"تندوف\",\n  \"تيسمسيلت\",\n  \"الوادي\",\n  \"خنشلة\",\n  \"سوق أهراس\",\n  \"تيبازة\",\n  \"ميلة\",\n  \"عين الدفلى\",\n  \"النعامة\",\n  \"عين تموشنت\",\n  \"غرداية\",\n  \"غليزان\",\n  \"تميمون\",\n  \"برج باجي مختار\",\n  \"أولاد جلال\",\n  \"بني عباس\",\n  \"عين صالح\",\n  \"عين قزام\",\n  \"تقرت\",\n  \"جانت\",\n  \"المغير\",\n  \"المنيعة\",\n] as const;\n\nexport const LEVELS = [\n  \"المبتدئ\",\n  \"جزء عم\",\n  \"جزء تبارك\",\n  \"ثلث القرآن\",\n  \"نصف القرآن\",\n  \"ثلاثة أرباع القرآن\",\n  \"الحفظ الكامل\",\n] as const;\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB;AAEA,SAAS,UAAU,IAAmB;IACpC,OAAO,gBAAgB,OAAO,OAAO,IAAI,KAAK;AAChD;AAEO,SAAS,WAAW,IAAmB;IAC5C,MAAM,SAAS,UAAU;IAEzB,IAAI,OAAO,KAAK,CAAC,OAAO,OAAO,KAAK;QAClC,OAAO;IACT;IAEA,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,MAAM;QACN,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,eAAe,IAAmB;IAChD,MAAM,SAAS,UAAU;IAEzB,IAAI,OAAO,KAAK,CAAC,OAAO,OAAO,KAAK;QAClC,OAAO;IACT;IAEA,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,MAAM;QACN,OAAO;QACP,KAAK;QACL,MAAM;QACN,QAAQ;IACV,GAAG,MAAM,CAAC;AACZ;AAEO,MAAM,UAAU;IACrB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,SAAS;IACpB;IACA;IACA;IACA;IACA;IACA;IACA;CACD"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///home/mohamed/abcher/components/MobileNav.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { ClipboardCheck, Home, MessageSquare, Settings, Users } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst navItems = [\n  { href: \"/dashboard\", label: \"الرئيسية\", icon: Home },\n  { href: \"/dashboard/students\", label: \"الطلبة\", icon: Users },\n  { href: \"/dashboard/attendance\", label: \"الحضور\", icon: ClipboardCheck },\n  { href: \"/dashboard/messages\", label: \"الرسائل\", icon: MessageSquare },\n  { href: \"/dashboard/settings\", label: \"الإعدادات\", icon: Settings },\n];\n\nexport default function MobileNav() {\n  const pathname = usePathname();\n\n  return (\n    <nav dir=\"rtl\" className=\"fixed inset-x-0 bottom-0 z-40 border-t border-primary-100 bg-white md:hidden\">\n      <ul className=\"grid grid-cols-5\">\n        {navItems.map((item) => {\n          const active = pathname === item.href || pathname.startsWith(`${item.href}/`);\n          const Icon = item.icon;\n\n          return (\n            <li key={item.href}>\n              <Link\n                href={item.href}\n                className={cn(\n                  \"flex min-h-[44px] flex-col items-center justify-center gap-1 py-2 text-xs font-semibold\",\n                  active ? \"text-brand-600\" : \"text-gray-500\",\n                )}\n              >\n                <Icon className={cn(\"h-4 w-4\", active ? \"text-brand-600\" : \"text-gray-500\")} />\n                <span>{item.label}</span>\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;;;AANA;;;;;AAQA,MAAM,WAAW;IACf;QAAE,MAAM;QAAc,OAAO;QAAY,MAAM,8MAAI;IAAC;IACpD;QAAE,MAAM;QAAuB,OAAO;QAAU,MAAM,gNAAK;IAAC;IAC5D;QAAE,MAAM;QAAyB,OAAO;QAAU,MAAM,+OAAc;IAAC;IACvE;QAAE,MAAM;QAAuB,OAAO;QAAW,MAAM,4OAAa;IAAC;IACrE;QAAE,MAAM;QAAuB,OAAO;QAAa,MAAM,yNAAQ;IAAC;CACnE;AAEc,SAAS;;IACtB,MAAM,WAAW,IAAA,oJAAW;IAE5B,qBACE,6LAAC;QAAI,KAAI;QAAM,WAAU;kBACvB,cAAA,6LAAC;YAAG,WAAU;sBACX,SAAS,GAAG,CAAC,CAAC;gBACb,MAAM,SAAS,aAAa,KAAK,IAAI,IAAI,SAAS,UAAU,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC;gBAC5E,MAAM,OAAO,KAAK,IAAI;gBAEtB,qBACE,6LAAC;8BACC,cAAA,6LAAC,0KAAI;wBACH,MAAM,KAAK,IAAI;wBACf,WAAW,IAAA,qHAAE,EACX,2FACA,SAAS,mBAAmB;;0CAG9B,6LAAC;gCAAK,WAAW,IAAA,qHAAE,EAAC,WAAW,SAAS,mBAAmB;;;;;;0CAC3D,6LAAC;0CAAM,KAAK,KAAK;;;;;;;;;;;;mBATZ,KAAK,IAAI;;;;;YAatB;;;;;;;;;;;AAIR;GA5BwB;;QACL,oJAAW;;;KADN"}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///home/mohamed/abcher/components/Sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport {\n  BookOpenCheck,\n  ChartColumn,\n  ClipboardCheck,\n  Home,\n  Library,\n  MessageSquare,\n  Settings,\n  ShieldCheck,\n  Trophy,\n  Users,\n} from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst navItems = [\n  { href: \"/dashboard\", label: \"الرئيسية\", icon: Home },\n  { href: \"/dashboard/teachers\", label: \"المعلمون\", icon: Users },\n  { href: \"/dashboard/attendance\", label: \"الحضور\", icon: ClipboardCheck },\n  { href: \"/dashboard/homework\", label: \"الواجبات\", icon: BookOpenCheck },\n  { href: \"/dashboard/results\", label: \"النتائج\", icon: Trophy },\n  { href: \"/dashboard/messages\", label: \"الرسائل\", icon: MessageSquare },\n  { href: \"/dashboard/reports\", label: \"التقارير\", icon: ChartColumn },\n  { href: \"/dashboard/library\", label: \"المكتبة\", icon: Library },\n  { href: \"/dashboard/authority\", label: \"الجهة الوصية\", icon: ShieldCheck },\n  { href: \"/dashboard/settings\", label: \"الإعدادات\", icon: Settings },\n];\n\nexport default function Sidebar() {\n  const pathname = usePathname();\n\n  return (\n    <div dir=\"rtl\" className=\"sticky top-0 flex h-screen flex-col bg-white px-4 py-6\">\n      <div className=\"mb-6 px-2\">\n        <p className=\"text-xs font-semibold text-primary-700\">نظام الإدارة</p>\n        <h2 className=\"mt-1 text-2xl font-extrabold text-brand-700\">أبشر</h2>\n      </div>\n\n      <nav className=\"flex-1 space-y-1 overflow-y-auto\">\n        {navItems.map((item) => {\n          const active = pathname === item.href || pathname.startsWith(`${item.href}/`);\n          const Icon = item.icon;\n\n          return (\n            <Link\n              key={item.href}\n              href={item.href}\n              className={cn(\n                \"flex min-h-[44px] items-center gap-3 rounded-xl px-3 py-2 text-sm font-semibold transition\",\n                active\n                  ? \"bg-brand-600 text-white shadow-md\"\n                  : \"text-gray-700 hover:bg-primary-50 hover:text-brand-700\",\n              )}\n            >\n              <Icon className=\"h-4 w-4\" />\n              <span>{item.label}</span>\n            </Link>\n          );\n        })}\n      </nav>\n\n      <div className=\"mt-4 rounded-2xl bg-primary-50 p-3 text-xs leading-6 text-gray-600\">\n        واجهة إدارة المدرسة القرآنية بوضوح وسهولة.\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;;;AAjBA;;;;;AAmBA,MAAM,WAAW;IACf;QAAE,MAAM;QAAc,OAAO;QAAY,MAAM,8MAAI;IAAC;IACpD;QAAE,MAAM;QAAuB,OAAO;QAAY,MAAM,gNAAK;IAAC;IAC9D;QAAE,MAAM;QAAyB,OAAO;QAAU,MAAM,+OAAc;IAAC;IACvE;QAAE,MAAM;QAAuB,OAAO;QAAY,MAAM,gPAAa;IAAC;IACtE;QAAE,MAAM;QAAsB,OAAO;QAAW,MAAM,mNAAM;IAAC;IAC7D;QAAE,MAAM;QAAuB,OAAO;QAAW,MAAM,4OAAa;IAAC;IACrE;QAAE,MAAM;QAAsB,OAAO;QAAY,MAAM,sOAAW;IAAC;IACnE;QAAE,MAAM;QAAsB,OAAO;QAAW,MAAM,sNAAO;IAAC;IAC9D;QAAE,MAAM;QAAwB,OAAO;QAAgB,MAAM,sOAAW;IAAC;IACzE;QAAE,MAAM;QAAuB,OAAO;QAAa,MAAM,yNAAQ;IAAC;CACnE;AAEc,SAAS;;IACtB,MAAM,WAAW,IAAA,oJAAW;IAE5B,qBACE,6LAAC;QAAI,KAAI;QAAM,WAAU;;0BACvB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAE,WAAU;kCAAyC;;;;;;kCACtD,6LAAC;wBAAG,WAAU;kCAA8C;;;;;;;;;;;;0BAG9D,6LAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC;oBACb,MAAM,SAAS,aAAa,KAAK,IAAI,IAAI,SAAS,UAAU,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC;oBAC5E,MAAM,OAAO,KAAK,IAAI;oBAEtB,qBACE,6LAAC,0KAAI;wBAEH,MAAM,KAAK,IAAI;wBACf,WAAW,IAAA,qHAAE,EACX,8FACA,SACI,sCACA;;0CAGN,6LAAC;gCAAK,WAAU;;;;;;0CAChB,6LAAC;0CAAM,KAAK,KAAK;;;;;;;uBAVZ,KAAK,IAAI;;;;;gBAapB;;;;;;0BAGF,6LAAC;gBAAI,WAAU;0BAAqE;;;;;;;;;;;;AAK1F;GAtCwB;;QACL,oJAAW;;;KADN"}},
    {"offset": {"line": 415, "column": 0}, "map": {"version":3,"sources":["file:///home/mohamed/abcher/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\n\nexport function createClient() {\n  return createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n  );\n}\n"],"names":[],"mappings":";;;;AAII;AAJJ;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,oMAAmB;AAI5B"}},
    {"offset": {"line": 433, "column": 0}, "map": {"version":3,"sources":["file:///home/mohamed/abcher/components/NotificationBell.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Bell } from \"lucide-react\";\nimport toast from \"react-hot-toast\";\n\nimport { createClient } from \"@/lib/supabase/client\";\nimport { formatDateTime } from \"@/lib/utils\";\n\ninterface ProfileContext {\n  school_id: string | null;\n}\n\ninterface NotificationItem {\n  id: string;\n  school_id: string;\n  title: string;\n  message: string;\n  is_read: boolean;\n  created_at: string;\n}\n\nconst supabase = createClient();\n\nexport default function NotificationBell() {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [schoolId, setSchoolId] = useState<string | null>(null);\n  const [notifications, setNotifications] = useState<NotificationItem[]>([]);\n  const containerRef = useRef<HTMLDivElement | null>(null);\n\n  const loadNotifications = useCallback(async () => {\n    setLoading(true);\n\n    try {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n\n      if (!user) {\n        setSchoolId(null);\n        setNotifications([]);\n        return;\n      }\n\n      const { data: profile, error: profileError } = await supabase\n        .from(\"profiles\")\n        .select(\"school_id\")\n        .eq(\"id\", user.id)\n        .single<ProfileContext>();\n\n      if (profileError) {\n        throw profileError;\n      }\n\n      if (!profile?.school_id) {\n        setSchoolId(null);\n        setNotifications([]);\n        return;\n      }\n\n      setSchoolId(profile.school_id);\n\n      const { data, error } = await supabase\n        .from(\"notifications\")\n        .select(\"id,school_id,title,message,is_read,created_at\")\n        .eq(\"school_id\", profile.school_id)\n        .order(\"created_at\", { ascending: false })\n        .limit(10);\n\n      if (error) {\n        throw error;\n      }\n\n      setNotifications((data as NotificationItem[]) ?? []);\n    } catch (error) {\n      const message = error instanceof Error ? error.message : \"تعذر تحميل الإشعارات.\";\n      toast.error(message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (open) {\n      void loadNotifications();\n    }\n  }, [open, loadNotifications]);\n\n  useEffect(() => {\n    const onDocumentClick = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setOpen(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", onDocumentClick);\n    return () => document.removeEventListener(\"mousedown\", onDocumentClick);\n  }, []);\n\n  const unreadCount = notifications.filter((entry) => !entry.is_read).length;\n\n  const markAsRead = async (notification: NotificationItem) => {\n    if (!schoolId || notification.is_read) {\n      return;\n    }\n\n    try {\n      const { error } = await supabase\n        .from(\"notifications\")\n        .update({ is_read: true })\n        .eq(\"id\", notification.id)\n        .eq(\"school_id\", schoolId);\n\n      if (error) {\n        throw error;\n      }\n\n      setNotifications((previous) =>\n        previous.map((item) => (item.id === notification.id ? { ...item, is_read: true } : item)),\n      );\n    } catch (error) {\n      const message = error instanceof Error ? error.message : \"تعذر تحديث الإشعار.\";\n      toast.error(message);\n    }\n  };\n\n  return (\n    <div ref={containerRef} dir=\"rtl\" className=\"relative\">\n      <button\n        type=\"button\"\n        onClick={() => setOpen((previous) => !previous)}\n        className=\"relative inline-flex min-h-[44px] min-w-[44px] items-center justify-center rounded-full border border-primary-100 bg-white text-gray-700 hover:bg-primary-50\"\n        aria-label=\"الإشعارات\"\n      >\n        <Bell className=\"h-5 w-5\" />\n        {unreadCount > 0 ? (\n          <span className=\"absolute -left-1 -top-1 inline-flex h-5 min-w-[20px] items-center justify-center rounded-full bg-red-600 px-1 text-[10px] font-bold text-white\">\n            {unreadCount}\n          </span>\n        ) : null}\n      </button>\n\n      {open ? (\n        <div className=\"absolute left-0 z-50 mt-2 w-80 rounded-xl border border-primary-100 bg-white p-3 shadow-md\">\n          <div className=\"mb-3 flex items-center justify-between\">\n            <h3 className=\"font-bold text-primary-700\">الإشعارات</h3>\n            <button type=\"button\" onClick={() => setOpen(false)} className=\"text-xs text-gray-500 hover:text-gray-700\">\n              إغلاق\n            </button>\n          </div>\n\n          {loading ? (\n            <div className=\"flex min-h-[150px] items-center justify-center\">\n              <div className=\"h-9 w-9 animate-spin rounded-full border-4 border-primary-100 border-t-primary-600\" />\n            </div>\n          ) : notifications.length === 0 ? (\n            <div className=\"rounded-lg border border-dashed border-primary-200 bg-primary-50 p-4 text-center\">\n              <p className=\"mb-3 text-sm text-gray-600\">لا توجد إشعارات حالية.</p>\n              <Link\n                href=\"/dashboard/messages\"\n                className=\"inline-flex min-h-[44px] items-center justify-center rounded-lg bg-primary-600 px-4 py-2 text-sm text-white hover:bg-primary-700\"\n              >\n                فتح الرسائل\n              </Link>\n            </div>\n          ) : (\n            <ul className=\"max-h-80 space-y-2 overflow-y-auto\">\n              {notifications.map((notification) => (\n                <li key={notification.id}>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      void markAsRead(notification);\n                    }}\n                    className={`w-full rounded-lg border px-3 py-2 text-right ${\n                      notification.is_read\n                        ? \"border-gray-100 bg-white\"\n                        : \"border-primary-200 bg-primary-50\"\n                    }`}\n                  >\n                    <p className=\"font-semibold text-gray-900\">{notification.title}</p>\n                    <p className=\"mt-1 text-sm text-gray-600\">{notification.message}</p>\n                    <p className=\"mt-1 text-xs text-gray-500\">{formatDateTime(notification.created_at)}</p>\n                  </button>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      ) : null}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 716, "column": 0}, "map": {"version":3,"sources":["file:///home/mohamed/abcher/components/Topbar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\nimport { Search } from \"lucide-react\";\n\nimport NotificationBell from \"@/components/NotificationBell\";\nimport { createClient } from \"@/lib/supabase/client\";\n\ninterface UserInfo {\n  full_name: string | null;\n  role: string | null;\n}\n\nconst supabase = createClient();\n\nexport default function Topbar() {\n  const [userName, setUserName] = useState(\"المستخدم\");\n  const [role, setRole] = useState(\"-\");\n\n  useEffect(() => {\n    const loadUser = async () => {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n\n      if (!user) {\n        return;\n      }\n\n      const { data } = await supabase\n        .from(\"profiles\")\n        .select(\"full_name, role\")\n        .eq(\"id\", user.id)\n        .maybeSingle<UserInfo>();\n\n      if (data?.full_name) {\n        setUserName(data.full_name);\n      }\n\n      if (data?.role) {\n        setRole(data.role);\n      }\n    };\n\n    void loadUser();\n  }, []);\n\n  return (\n    <header dir=\"rtl\" className=\"sticky top-0 z-30 border-b border-primary-100 bg-white/95 px-4 py-3 backdrop-blur md:px-6\">\n      <div className=\"flex items-center justify-between gap-4\">\n        <div className=\"relative w-full max-w-lg\">\n          <Search className=\"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400\" />\n          <input\n            type=\"search\"\n            placeholder=\"بحث سريع...\"\n            className=\"min-h-[44px] w-full rounded-xl border border-gray-200 bg-white py-2 pr-10 pl-3 text-[16px] outline-none ring-brand-600/20 focus:ring\"\n          />\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n          <NotificationBell />\n\n          <Link href=\"/dashboard/settings\" className=\"hidden min-h-[44px] items-center rounded-xl border border-primary-100 px-3 text-right sm:flex\">\n            <div>\n              <p className=\"text-sm font-semibold text-gray-900\">{userName}</p>\n              <p className=\"text-xs text-gray-500\">{role}</p>\n            </div>\n          </Link>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AACA;;;AAPA;;;;;;AAcA,MAAM,WAAW,IAAA,4IAAY;AAEd,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IAEjC,IAAA,0KAAS;4BAAC;YACR,MAAM;6CAAW;oBACf,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;oBAE/B,IAAI,CAAC,MAAM;wBACT;oBACF;oBAEA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SACpB,IAAI,CAAC,YACL,MAAM,CAAC,mBACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,WAAW;oBAEd,IAAI,MAAM,WAAW;wBACnB,YAAY,KAAK,SAAS;oBAC5B;oBAEA,IAAI,MAAM,MAAM;wBACd,QAAQ,KAAK,IAAI;oBACnB;gBACF;;YAEA,KAAK;QACP;2BAAG,EAAE;IAEL,qBACE,6LAAC;QAAO,KAAI;QAAM,WAAU;kBAC1B,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,mNAAM;4BAAC,WAAU;;;;;;sCAClB,6LAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,WAAU;;;;;;;;;;;;8BAId,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,6IAAgB;;;;;sCAEjB,6LAAC,0KAAI;4BAAC,MAAK;4BAAsB,WAAU;sCACzC,cAAA,6LAAC;;kDACC,6LAAC;wCAAE,WAAU;kDAAuC;;;;;;kDACpD,6LAAC;wCAAE,WAAU;kDAAyB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpD;GAzDwB;KAAA"}},
    {"offset": {"line": 859, "column": 0}, "map": {"version":3,"sources":["file:///home/mohamed/abcher/app/dashboard/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport type { ReactNode } from \"react\";\n\nimport MobileNav from \"@/components/MobileNav\";\nimport Sidebar from \"@/components/Sidebar\";\nimport Topbar from \"@/components/Topbar\";\n\nexport default function DashboardLayout({ children }: { children: ReactNode }) {\n  return (\n    <div dir=\"rtl\" className=\"min-h-screen bg-app\">\n      <div className=\"mx-auto flex min-h-screen w-full max-w-[1600px]\">\n        <aside className=\"hidden border-l border-primary-100 lg:block lg:w-72\">\n          <Sidebar />\n        </aside>\n\n        <div className=\"flex min-h-screen min-w-0 flex-1 flex-col\">\n          <Topbar />\n          <main className=\"flex-1 px-4 py-5 pb-24 md:px-6 md:py-6 md:pb-6\">{children}</main>\n        </div>\n      </div>\n\n      <MobileNav />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AANA;;;;;AAQe,SAAS,gBAAgB,EAAE,QAAQ,EAA2B;IAC3E,qBACE,6LAAC;QAAI,KAAI;QAAM,WAAU;;0BACvB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAM,WAAU;kCACf,cAAA,6LAAC,oIAAO;;;;;;;;;;kCAGV,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,mIAAM;;;;;0CACP,6LAAC;gCAAK,WAAU;0CAAkD;;;;;;;;;;;;;;;;;;0BAItE,6LAAC,sIAAS;;;;;;;;;;;AAGhB;KAjBwB"}}]
}